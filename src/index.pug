doctype html
head
  title Bird Book Archive
  meta(name='viewport' content='width=device-width, initial-scale=1')
  meta(charset='UTF-8')
  link(rel='stylesheet', href='site.css')

input(type="radio",name="category",id="category-_all")
label(for="category-_all")="All"
each category in categories
  input(type="radio",name="category",id="category-" + category)
  label(for="category-" + category)=category
div.book-list
  each book in books
    div.book(data-category=book.Category)
      div.book__thumbnail
        if book.ISBN
          img(src=book.ISBN, alt="Thumbnail for " + book.Title)
      h3.book__title= book.Title
      div.book__author= book.Author
      div.book__notes= book.Notes

//- Generate CSS with a selector for each category filter:
//- when a category is selected, hide all the books that aren't in the category
style
  each category in categories
    - let filterInputID = "#category-" + category
    - let selectorForMatchingThisCategory = "[data-category='" + category + "']"
    =`${filterInputID}:checked ~ .book-list .book:not(${selectorForMatchingThisCategory}) { display: none; }`
