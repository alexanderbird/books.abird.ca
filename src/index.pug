doctype html
head
  title Bird Book Archive
  link(rel='icon' href='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“š</text></svg>')

  meta(name='viewport' content='width=device-width, initial-scale=1')
  meta(charset='UTF-8')
  link(rel='stylesheet', href='site.css')

input.category-input(type="radio",name="category",id="category-_all",checked=true)
label.category-input-label(for="category-_all")="All Categories"
each category in categories
  input.category-input(type="radio",name="category",id="category-" + category)
  label.category-input-label(for="category-" + category)=category || 'None'
div.book-list
  each book in books
    if book.Title
      div.book(data-category=book.Category,style=`--book-color: ${book.Color};`)
        div.book__thumbnail
          if book.ISBN
            img(src=book.ISBN, alt="Thumbnail for " + book.Title)
        h3.book__title= book.Title
        div.book__author= book.Author
        div.book__notes= book.Notes
        div.book__location= locations[book.Location]

script(src='section_filters.js')

//- Generate CSS with a selector for each category filter:
//- when a category is selected, hide all the books that aren't in the category
style
  each category in categories
    - let filterInputID = "#category-" + category
    - let selectorForMatchingThisCategory = "[data-category='" + category + "']"
    =`${filterInputID}:checked ~ .book-list .book:not(${selectorForMatchingThisCategory}) { display: none; }`
